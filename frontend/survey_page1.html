<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
     <!-- add jQuery   -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"
          href="node_modules/jquery-bar-rating/dist/themes/fontawesome-stars.css">
    <script src="node_modules/jquery-bar-rating/jquery.barrating.js"></script>
    <script src="./node_modules/jquery-csv/src/jquery.csv.js"></script>
    <script>
        const csv = require('jquery-csv');
    </script>

    <!-- Add Here all the functions for the JQuery-->
    <script>
        $(document).ready(function(){
        // jQuery methods go here...
            $("#next").click(function(){
            window.location.replace("index.html");
             });
        });
    </script>

    <script>
        $(function() {
            $('#question1').barrating({
            theme: 'fontawesome-stars'
            });
        });
    </script>

    <script>
        function check_box(id) {
            var checkBox1 = document.getElementById("Check1");
            var checkBox2 = document.getElementById("Check2");
            // var text = document.getElementById("text");
            if (id==="Check1"){
                checkBox1.checked = true;
                checkBox2.checked = false;
            }else{
                checkBox1.checked = false;
                checkBox2.checked = true;
            }
        }
    </script>

        <script>
        function submitforms() {
            // check checkboxes if filled
            var question1 = document.getElementById("question1");
            var box1 = document.getElementById("Check1");
            var box2 = document.getElementById("Check2");

            if ((question1.checkValidity()===true) && (box1.checkValidity() ||
                box2.checkValidity)===true){
                console.log('valid');
                console.log(box1);

                $.ajax({
                  url: 'http://0.0.0.0:5000/savedb',
                  type: 'POST',
                  data: box1,
                  success: function(data) {
                    alert('Load was performed.');
                  }
                });
            }else{
                alert("Please fill in all the fields");
            }
            return false;
        }
    </script>

    <!-- Tab Name-->
    <title>Empathetic Chatbot Survey</title>
</head>
<body>

<h1>Rating Responses</h1>
<p>Please rate the following responses in terms of the following 3 metrics: <b>Empathy</b>,<b>Relavance</b>, and<b> Fluency</b>. </p>

<i class="fa fa-bell" style="color:red"> </i> Please keep in mind that:
<ul>
    <li>Empathy measures whether the listener’s responses show the understanding of
    the speaker’s feelings.</li>
    <li>Relevance evaluates whether the generated responses are on-topic with the
    dialog context.</li>
    <li>Fluency measures the grammatical correctness and readability of the generated responses.</li>
</ul>
<script>
    // var data = $.csv.toObjects(csv);
    console.log(5);
    console.log(data);

</script>
<form id="question1">
<select  required>
<option value="">Please select</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
</select>
</form>
<br>

<form id="question2" class="question2">
   <label for="Check1">Checkbox1:</label>
    <input type="checkbox" id="Check1" onclick="check_box(this.id)" required>
   <label for="Check2">Checkbox2:</label>
    <input type="checkbox" id="Check2" onclick="check_box(this.id)" required>
</form>


<input type="submit" form="question1" value="Next" onclick=submitforms()>

</body>
</html>